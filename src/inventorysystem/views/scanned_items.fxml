<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<AnchorPane xmlns="http://javafx.com/javafx/25"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="inventorysystem.controllers.ScannedItemsController"
            styleClass="mainFxmlClass">

    <ScrollPane fitToWidth="true" vbarPolicy="AS_NEEDED" hbarPolicy="NEVER"
                AnchorPane.topAnchor="0" AnchorPane.bottomAnchor="0"
                AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0"
                styleClass="transparent-scroll">

        <VBox fx:id="mainVBox" spacing="30" alignment="TOP_CENTER" prefWidth="1100">
            <padding>
                <Insets top="30" right="30" bottom="30" left="30"/>
            </padding>

            <!-- ===========================
                 PAGE TITLE
            ============================ -->
            <HBox spacing="12" alignment="CENTER_LEFT">
                <Label text="ðŸ“Š" style="-fx-font-size:30px;"/>
                <Label text="Scanned Items Report"
                       styleClass="page-title"/>
            </HBox>

            <!-- ===========================
                 FILTER BAR
            ============================ -->
            <HBox spacing="20" alignment="CENTER_LEFT" styleClass="card">
                <Label text="From:" styleClass="form-label"/>
                <DatePicker fx:id="startDatePicker" styleClass="input-field" prefWidth="160"/>

                <Label text="To:" styleClass="form-label"/>
                <DatePicker fx:id="endDatePicker" styleClass="input-field" prefWidth="160"/>

                <Button text="ðŸ” Apply Filter" styleClass="primary-btn"
                        onAction="#onFilterClicked"/>
            </HBox>

            <!-- ===========================
                 SCANNED ITEMS TABLE
            ============================ -->
            <VBox spacing="15" maxWidth="1000" styleClass="card">

                <Label text="Scanned Items" styleClass="section-title"/>

                <TableView fx:id="tableScannedItems" prefHeight="380">
                    <columns>
                        <TableColumn fx:id="colItemName" text="Item Name" prefWidth="500"/>
                        <TableColumn fx:id="colScanDate" text="Scan Date" prefWidth="260"/>
                    </columns>
                </TableView>

                <!-- ===========================
                     ITEM DETAILS MODERN PANEL
                ============================ -->
                <TitledPane text="Item Details" expanded="false" styleClass="details-pane">

                    <content>
                        <GridPane hgap="15" vgap="10">
                            <padding>
                                <Insets top="12" right="10" bottom="12" left="10"/>
                            </padding>

                            <columnConstraints>
                                <ColumnConstraints prefWidth="150" halignment="RIGHT"/>
                                <ColumnConstraints prefWidth="350" halignment="LEFT"/>
                            </columnConstraints>

                            <Label text="Item Name:" />
                            <Label fx:id="lblName" GridPane.columnIndex="1"/>

                            <Label text="Category:" GridPane.rowIndex="1"/>
                            <Label fx:id="lblCategory" GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                            <Label text="Status:" GridPane.rowIndex="2"/>
                            <Label fx:id="lblQuantity" GridPane.columnIndex="1" GridPane.rowIndex="2"/>

                            <Label text="Storage:" GridPane.rowIndex="3"/>
                            <Label fx:id="lblLocation" GridPane.columnIndex="1" GridPane.rowIndex="3"/>

                            <Label text="Last Scanned:" GridPane.rowIndex="4"/>
                            <Label fx:id="lblLastScan" GridPane.columnIndex="1" GridPane.rowIndex="4"/>
                        </GridPane>
                    </content>

                </TitledPane>

            </VBox>

            <!-- ===========================
                 MONTHLY CHART
            ============================ -->
            <VBox spacing="15" maxWidth="1000" styleClass="card">

                <Label text="ðŸ“ˆ Monthly Scanned vs Unscanned"
                       styleClass="section-title"/>

                <StackPane fx:id="chartContainer" prefHeight="360"
                           styleClass="chart-area">

                    <Label fx:id="chartPlaceholder"
                           text="Loading monthly dataâ€¦"
                           styleClass="chart-placeholder"/>

                </StackPane>
            </VBox>

        </VBox>

    </ScrollPane>
</AnchorPane>
